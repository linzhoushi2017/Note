### 分布式系统学习摘要
##### 分布式系统的几个显著特点
1. 并发执行
2. 无全局的时钟
3. 故障的独立性-无法辨别机器故障还是网络故障，也就得保障故障时的依旧可运行

##### 超级复杂的分布式系统
- Web搜索
  - 一个底层的物理设施
  - 一个分布式的文件系统
  - 一个相关的结构化分布式存储系统
  - 一个锁系统
  - 一个编程模式
- 大型在线游戏（MMOG）
  - 客户-服务器模型（负载分区和用户分区） EVE游戏
  - 完全对等的技术？研究中 => 长久运行（永不宕机）的游戏服务基础设施
- 金融交易
  - 基于事件的分布式系统
  - 异构性问题的适配器。复杂事件处理(CEP)

##### 趋势
1. 出现了泛在联网技术
2. 出现了无处不在计算，支持用户移动性的意愿
3. 对多媒体设备的需求增加
4. 把分布式系统作为一个基础设施 （云计算，云存储等）

##### 挑战
1. 异构性（网络，计算机硬件，操作系统，编程语言，软件实现等），通过中间件实现
2. 开放性
   - 发布系统的关键接口是开发系统的特征
   - 开发的分布式系统是基于一致的通信机制和发布接口访问共享资源
   - 能够使用异构的硬件和软件构建
3. 安全性。有两大安全：DDOS, 移动代码的安全性(远程代码的本地执行)
   - 机密性
   - 完整性
   - 可用性
4. 可伸缩性 —— 理想状态下，系统规模变化时候，系统和应用程序应该不需要随之改变
   - 控制物理资源的开销
   - 控制性能损失
   - 防止软件资源耗尽
   - 避免性能瓶颈
5. 故障处理
   - 检测故障
   - 掩盖故障
   - 容错
   - 故障恢复
   - 冗余 —— 以便解决容错
6. 并发性
7. 透明性 —— 对外屏蔽分布式系统的分离性，被认为是一个整体
   - *访问透明性*
   - *位置透明性*
   - 并发透明性
   - 复制透明性
   - 故障透明性
   - 移动透明性
   - 性能透明性
   - 伸缩透明性
8. 服务质量 —— 可靠，安全，性能

#### 分布式体系结构
##### 体系结构元素
- 通信实体：
  - 对象
  - 组件
  - Web服务
- 通信范型：
  - 进程间通信
    - 消息传递
    - 套接字
    - 多播
  - 远程调用
    - 请求-应答模型
    - 远程过程调用-RPC
    - 远程方法调用-RMI（一般跟分布式对象一起组合使用）
  - 间接通信
    - 组通信（一对多的通信范型）
    - 发布-订阅系统
    - 消息队列（生产者和消费者模型的中介方式）
    - 元组空间（生成通信，提供一个持久的元组空间）
    - 分布式共享内存（DSM）
- 角色和责任
  - 客户 —— 服务器
  - 对等体系结构
##### 体系结构模式
- 分层体系结构（Layering architecture）
- 层次化体系结构（tiered architecture）
- 瘦客户相关的概念（包括虚拟网络计算的特定机制）
#### 基础模型
- 交互模型
  - 通信信道的性能：延迟(latency), 带宽(bandwidth), 抖动(jitter, 多与流媒体相关)
  - 计算机时钟和时序事件：时钟漂移率(clock drift rate)
  - 交互模型的两个变体
    - 同步分布式系统：进程执行的每一步的时间都有一个上限和下限，通过通道传递的每一个消息在一个已知的范围内接收到，每个进程有一个本地时钟，与实际事件的漂移率在一个已知的范围
    - 异步分布式系统：进程执行速度不受限制，消息传递延迟不受限制，时钟漂移率不受限制
  - 事件排序（Pepperland协定）—— 逻辑时间
- 故障模型
  - 遗漏故障 —— 良性故障：进程或者通信通道不能完成它应该做的动作。进程遗漏故障主要是崩溃。通信遗漏故障（发送,通道,接收遗漏故障）
  - 随机故障（拜占庭故障）—— 恶性故障
  - 时序故障（同步分布式系统中，性能故障） —— 良性故障：实时操作系统
  - 故障屏蔽
  - 一对一通信的可靠性：有效性与完整性（重放攻击，伪造消息，篡改消息）
- 安全模型
  - 保护对象
  - 保护进程与它们的交互
  - 解除安全威胁
    - *密码学与共享秘密*
    - *认证*
    - *安全通道*：每个进程知道执行主体身份，保障传输数据的私密性和完整性，消息包括物理或逻辑时间戳防止重放和篡改
  - 其他可能的来自敌人的威胁（拒绝服务攻击，移动代码执行等）
